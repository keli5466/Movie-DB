{"version":3,"sources":["main.js"],"names":["$","document","ready","Handlebars","registerPartial","templates","registerHelper","arr","limit","Array","isArray","slice","value","options","parseInt","api_key","bind","btnClick","$class","template","on","itemKey","data","$container","closest","renderData","renderTemplate","selector","temp","html","type","galleryItemDataObj","JSON","parse","sessionStorage","getItem","filter","element","id","console","log","ajax","url","success","newObj","results","map","obj","index","setItem","stringify","error","XMLHttpRequest"],"mappings":"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","sourcesContent":["$(document).ready(function() {\n\tHandlebars.registerPartial('gallery-item', Handlebars.templates['gallery-item.hbs'])\n\tHandlebars.registerHelper('limit', function (arr, limit) {\n\t  if (!Array.isArray(arr)) { return []; }\n\t  return arr.slice(0, limit);\n\t});\n\tHandlebars.registerHelper(\"math\", function(value, options) {\n    return parseInt(value) + 1;\n\t});\n\n\tconst api_key = 'd5d44ba71ba42d221748536faf51c078';\n\n\t// Click Events\n\tfunction bind() {\n\t\tbtnClick('.btn', 'detail');\n\t\tbtnClick('.goBack', 'gallery-item');\n\t}\n\n\tfunction btnClick($class, template) {\n\t\t$(document).on('click', $class , function(){\n\t\t\tvar itemKey = $(this).data('key');\n\t\t\tvar $container = $(this).closest('.content-box');\n\t\t\trenderData($container, itemKey , template);\n\t\t})\n\t}\n\n\tfunction renderTemplate(selector, temp, data) {\n\t\tvar template = Handlebars.templates[temp + '.hbs'](data);\n\t\t$(selector).html('').html(template);\n\t}\n\n\tfunction renderData(selector, type, temp) {\n\t\tswitch(temp) {\n\t\t\tcase 'gallery-item':\n\t\t\t\tvar galleryItemDataObj = JSON.parse(sessionStorage.getItem('popularCache')).filter(element => element.id == type)[0];\n\t\t\t\tconsole.log('test', JSON.parse(sessionStorage.getItem('popularCache')).filter(element => element.id == type)[0]);\n\t\t\t\trenderTemplate(selector, temp, galleryItemDataObj);\n\t\t\t\tbreak;\n\t\t\tcase 'gallery':\n\t\t\tcase 'detail':\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype : 'GET',\n\t\t\t\t\turl : `https://api.themoviedb.org/3/movie/${type}?api_key=${api_key}&append_to_response=videos&language=en-US&page=1`,\n\t\t\t\t\tsuccess: function(data){\n\t\t\t\t\t\tconsole.log('AJAX CALL');\n\t\t\t\t\t\tif (type === 'popular') {\n\n\t\t\t\t\t\t\tvar newObj = data.results.map(function(obj, index) {\n\t\t\t\t\t\t\t\tobj['index'] = (index < 9 ? '0' : '') + (index + 1)\n\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tsessionStorage.setItem('popularCache', JSON.stringify(newObj));\n\t\t\t\t\t\t}\n\t\t\t\t\t\trenderTemplate(selector, temp, data);\n\t\t\t\t\t},\n\t\t\t\t\terror: function(XMLHttpRequest){\n\t\t\t\t\t\tconsole.log('error', XMLHttpRequest);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\trenderData('#content-holder','popular', 'gallery');\n\tbind();\n});\n"],"file":"main.js"}